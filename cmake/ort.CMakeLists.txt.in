cmake_minimum_required(VERSION 3.1)
project(ort-download NONE)

set(ORT_VERSION_NO 1.15.1)
set(ORT_VERSION v${ORT_VERSION_NO})
set(ORT_RELEASE_URL https://github.com/microsoft/onnxruntime/releases/download)
set(ORT_ARCH x64-gpu)
set(ORT_PACKAGE onnxruntime-linux-${ORT_ARCH})
set(ORT_FULL_URL ${ORT_RELEASE_URL}/${ORT_VERSION}/${ORT_PACKAGE}-${ORT_VERSION_NO}.tgz)

# TODO(nathan) architecture dependent URL with cross-compiled version
include(ExternalProject)
ExternalProject_Add(
  ort
  URL ${ORT_FULL_URL}
  SOURCE_DIR "@CMAKE_CURRENT_BINARY_DIR@/ort-src"
  BINARY_DIR "@CMAKE_CURRENT_BINARY_DIR@/ort-build"
  CONFIGURE_COMMAND ""
  BUILD_COMMAND ""
  INSTALL_COMMAND ""
  TEST_COMMAND ""
)
